Классификация ошибок
====================

Сообщения об ошибках
[`Cubux.Sync.ErrorMessage`][Cubux.Sync.ErrorMessage] делятся на
различные уровни по природе своего возникновения. Сами же сообщения
помечаются символьным кодом для машинного анализа. Ниже приведена
классификация возможных ошибок.

### Уровни `level`:

#### `dev_error`

Ошибки по вине разработчика клиента. Применяется преимущественно для
технических данных, формируемых исключительно клиентом без участия
пользователя.

Код | Описание
--- | --------
`input_data` | Проблемы со значениями полей. Может также применяться и к некоторым полям, значения которых поступают из ввода пользователя, когда приложение само должно (было) организовать валидацию ввода перед отправкой. Примерами плохого ввода могут быть неуместные отрицательные суммы или синтаксически некорректные E-mail'ы.
`input_format` | Проблемы связаны с форматом или структурой отправляемых данных

#### `dev_warning`

Предупреждения для разработчика клиента. Сообщения данного уровня могут
присутствовать и в тикетах с успешным статусом.

*   Разработчику клиента _следует_ учитывать предупреждения на этапе
    разработки.
*   Разработчику клиента _рекомендуется_ (с разрешения пользователя)
    организовать доставку предупреждений в релизах клиента от
    приложения к группе лиц ответственной за релиз. Не забудьте учесть
    повторяемость сообщений и данные для идентификации релиза.
*   Разработчику клиента _следует_ устранять проблемы, о которых
    повествуют предупреждения, в будущих версиях приложения (если они
    будут).

Коды ошибок такие же, как в уровне `dev_error`.

#### `user_logic`

Пользователь просит совершить действие, противоречащее некой логике.

Код | Описание
--- | --------
`teams_the_only_admin` | Пользователь хочет удалить команду(-ы), в которой он является единственным администратором, но не единственным участником. Для устранения проблемы пользователь должен либо исключить всех участников из команды, либо назначить администратором другого участника.
`team_has_subscription` | Пользователь хочет полностью удалить команду, но в команде активна подписка. Удаление команды полностью будет возможно только после окончания или прерывания подписки. Также вместо удаления команды целиком можно стереть все данные внутри команды.

#### `user_error`

Простые ошибки пользователя.

Код | Описание
--- | --------
`input` | Некорректный ввод пользователя
`access_denied` | Пользователь не имеет прав на данное действие
`object_not_found` | Редактируемый объект не найден

#### `service`

Ошибки на сервере.

Код | Описание
--- | --------
`internal` | Внутренняя ошибка на сервере


[Cubux.Sync.ErrorMessage]: ../type/sync/error-message.md
